# XOR暗号

世の中では多種多様な暗号化が用いられている。その中でもRSA暗号化やAES暗号化は現在の情報科社会を支えているといっても過言ではない。
(ここでは、AESやRSAの暗号化は難しすぎるため扱わない、だがこのくらいは内容を知っておいたほうがいいのは事実だ。)

さて、ビット演算というものがある。
ところで、char型の'a'と'z'はASCIIコードというコンピューターの中での文字の保持形式では97と122である。
http://e-words.jp/p/r-ascii.html

97は2進数で 0110 0001
122は2進数で0111 1010
となる。

ビット演算における&(AND)ではそれぞれが1である場合のみ1になる。これはよく論理積と呼ばれる。
つまり、'a' & 'z'は以下のように計算される

0110 0001

0111 1010

``=``

0110 0000 = 96 でありこの文字はバッククォート(`)にあたる

同様にビット演算の|(OR)では、どちらかが1である場合のみ1になる。これはよく論理和と呼ばれる。
つまり、'a' | 'z'は以下のように計算される

0110 0001

0111 1010

``=``

0111 1011 = 123 でありこの文字は中括弧({)にあたる

同様にビット演算の^(XOR)では、どちらか一方だけが1である場合のみ1になる。これはよく排他的論理和と呼ばれる。
つまり、'a' ^ 'z'は以下のように計算される

0110 0001

0111 1010

``=``

0001 1011 = 27 でありこの文字は制御文字(文字列には表れない特殊な文字のこと)のESCにあたる。

## 問題1
実際のこの事実を以下のコードを用いてチェックせよ。ただし、charにキャストしているのはchar型同士のビット演算がint型になってしまうというC#の仕様のためである。


```csharp
Console.WriteLine((char)('a' & 'z'));
Console.WriteLine((char)('a' | 'z'));
Console.WriteLine((char)('a' ^ 'z'));
```

## 問題2
文字'a'とa~z,A~Zまでのすべての文字のOR,AND,XORの出力を表示するプログラムを書け。
![](https://i.gyazo.com/74dd1275e1a18aabbe2e6748138d11ad.png)
ただし、制御文字の部分の文字コードはこの表示例に従わない可能性がある。


さて、XORには特殊な性質がある。簡単に言うと、

A ^ B = C ⇒ C^ B =A

である。つまり、誰かがCという文字を知っていてもBを知らなければAを見つけ出すことができないし、逆にBを知っているものからすればCからAをとりだすことができる。
これは最も基本的な暗号化のアルゴリズムの一つである。

## 問題3

### 3-A

与えられた文字列(String)をchar型の配列に変換するメソッドを作成せよ。

```csharp
public static char[] GetCharArray(string str)
{
  //ここにコードを書く
}
```

### 3-B

与えられたchar型の配列をstringに変換するメソッドを作成せよ。

```csharp
public static string GetString(char[] arr)
{
  //ここにコードを書く
}
```

### 3-C
与えられた文字列(source,string型を配列に分割し、それぞれ与えられた鍵(key,char型)から暗号化し、stringにするメソッドを作成せよ。

```csharp
public static string Encrypt(char key,string source)
{
  //ここにコードを書く
}
```

### 3-D
与えられた暗号化済みの文字列(source,string型)を配列に分割しそれぞれ与えられた鍵(key,char型)で復号化し、stringにするメソッドを作成せよ。
```csharp
public static string Decrypt(char key,string source)
{
  //ここにコードを書く
}
```
